export type NaggingStyle = "strict" | "friendly" | "humorous";

interface NaggingMessage {
    safe: string[];
    warning: string[];
    over: string[];
}

const MESSAGES: Record<NaggingStyle, NaggingMessage> = {
    strict: {
        safe: ["äºˆç®—å†…ã§é †èª¿ã§ã™ã€‚æ²¹æ–­ã—ãªã„ã§ãã ã•ã„ã€‚", "è¨ˆç”»é€šã‚Šã§ã™ã€‚ã“ã®èª¿å­ã§ç®¡ç†ã—ã¾ã—ã‚‡ã†ã€‚", "ç„¡é§„é£ã„ã¯ã‚ã‚Šã¾ã›ã‚“ã­ã€‚ç¶™ç¶šã—ã¦ãã ã•ã„ã€‚"],
        warning: ["è­¦å‘Šï¼šäºˆç®—ã®80%ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚æ”¯å‡ºã‚’æŽ§ãˆã¦ãã ã•ã„ã€‚", "æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚æ®‹ã‚Šã®æœŸé–“ã€ç¯€ç´„ã‚’å¾¹åº•ã—ã¦ãã ã•ã„ã€‚", "ç„¡é§„ãªå‡ºè²»ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿè¦‹ç›´ã™æ™‚æœŸã§ã™ã€‚"],
        over: ["äºˆç®—è¶…éŽã§ã™ï¼ç›´ã¡ã«æ”¯å‡ºã‚’åœæ­¢ã—ã¦ãã ã•ã„ã€‚", "ç®¡ç†ä¸è¶³ã§ã™ã€‚æ¥æœˆã«å‘ã‘ã¦çŒ›çœãŒå¿…è¦ã§ã™ã€‚", "èµ¤å­—ã§ã™ã€‚è¨ˆç”»æ€§ã®ãªã•ãŒéœ²å‘ˆã—ã¦ã„ã¾ã™ã€‚"]
    },
    friendly: {
        safe: ["é †èª¿ã§ã™ã­ï¼ã“ã®èª¿å­ã§ã„ãã¾ã—ã‚‡ã†â™ª", "ã‚„ã‚Šãã‚Šä¸Šæ‰‹ã§ã™ã­ï¼ç´ æ™´ã‚‰ã—ã„ã§ã™âœ¨", "ä»Šã®ã¨ã“ã‚å®Œç’§ã§ã™ï¼ä½™è£•ãŒã‚ã‚Šã¾ã™ã­ã€‚"],
        warning: ["ãŠã£ã¨ã€äºˆç®—ã®80%ã¾ã§ãã¾ã—ãŸã€‚å°‘ã—æ°—ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã­ã€‚", "ãã‚ãã‚ä½¿ã„ã™ãŽã‹ã‚‚ï¼Ÿæ®‹ã‚Šã®æ—¥æ•°ã‚’ç¢ºèªã—ã¦ã¿ã¦ï¼", "æ³¨æ„å ±ç™ºä»¤ä¸­ï¼å°‘ã—ãƒšãƒ¼ã‚¹ã‚’è½ã¨ã—ã¾ã—ã‚‡ã†ã€‚"],
        over: ["ã‚ã‚‰ã‚‰ã€äºˆç®—ã‚’è¶…ãˆã¡ã‚ƒã„ã¾ã—ãŸã­...æ¬¡ã¯é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼", "ä½¿ã„ã™ãŽã¡ã‚ƒã„ã¾ã—ãŸã­ðŸ’¦ æ¥æœˆã¯ä¸€ç·’ã«æ°—ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã€‚", "ãƒ‰ãƒ³ãƒžã‚¤ï¼æ¬¡ã¯ãã£ã¨ã†ã¾ãã„ãã¾ã™ã‚ˆã€‚"]
    },
    humorous: {
        safe: ["ãŠè²¡å¸ƒã®ç´ã€å›ºçµã³ã§ã™ã­ï¼ç´ æ™´ã‚‰ã—ã„ï¼", "ä»Šã®ã‚ãªãŸã¯ã€Œç¯€ç´„ã®ç¥žã€ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚", "ãŠé‡‘ãŸã¡ãŒã€Œã¾ã ä½¿ã‚ãªã„ã§ã€ã¨å–œã‚“ã§ã„ã¾ã™ã€‚"],
        warning: ["ãŠè²¡å¸ƒãŒæ‚²é³´ã‚’ä¸Šã’å§‹ã‚ã¦ã„ã¾ã™ã‚ˆ...èžã“ãˆã¾ã›ã‚“ã‹ï¼Ÿ", "å±é™ºä¿¡å·ï¼è¡å‹•è²·ã„ã®æ‚ªé­”ãŒè¿‘ãã«ã„ã¾ã™ã€‚", "ãã‚ãã‚ã€Œéœžã‚’é£Ÿã¹ã¦ç”Ÿãã‚‹ã€æº–å‚™ãŒå¿…è¦ã‹ã‚‚ï¼Ÿ"],
        over: ["ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼äºˆç®—ã¨ã„ã†æ¦‚å¿µã‚’è¶…è¶Šã—ã¾ã—ãŸã­ï¼ˆç¬‘ï¼‰", "æ¥æœˆã¯æ°´ã ã‘ã§éŽã”ã™ã“ã¨ã«ãªã‚Šãã†ã§ã™...", "è²¡å¸ƒã®ä¸­èº«ãŒç©ºã£ã½ã§ã™ã€‚ã‚ã‚‹ã®ã¯å¤¢ã¨å¸Œæœ›ã ã‘ã€‚"]
    }
};

export function getNaggingMessage(style: NaggingStyle, percentage: number): string {
    const messages = MESSAGES[style];
    let candidateMessages: string[];

    if (percentage > 100) {
        candidateMessages = messages.over;
    } else if (percentage >= 80) {
        candidateMessages = messages.warning;
    } else {
        candidateMessages = messages.safe;
    }

    // Return a random message from the candidates
    const randomIndex = Math.floor(Math.random() * candidateMessages.length);
    return candidateMessages[randomIndex];
}
